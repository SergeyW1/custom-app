(function(){"use strict";var e={2510:function(e,s,t){var i=t(9963),r=t(6252);const n={class:"app"};function a(e,s,t,i,a,l){const o=(0,r.up)("user-form");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r.Wm)(o)])}var l=t(3577);const o=e=>((0,r.dD)("data-v-757e4646"),e=e(),(0,r.Cn)(),e),u={class:"app__btns"},d={class:"userList-header"},c=o((()=>(0,r._)("div",null,"Связи с другими пользователями",-1))),m={class:"connect-userList"},p={class:"dialog__content-header"},v=o((()=>(0,r._)("div",null,"Новый Пользователь",-1))),h={class:"btn-content"},f={class:"users"};function g(e,s,t,n,a,o){const g=(0,r.up)("user-connections"),_=(0,r.up)("users-item"),U=(0,r.up)("users-list");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",u,[(0,r._)("button",{class:"btn",onClick:s[0]||(s[0]=(...e)=>o.updateModal&&o.updateModal(...e))},"Добавить пользователя"),(0,r._)("button",{class:"btn",onClick:s[1]||(s[1]=(...e)=>o.modalConnectUser&&o.modalConnectUser(...e))}," Показать связь пользователей ")]),(0,r._)("div",{class:(0,l.C_)(["dialog",{"dialog-active":a.visibleModalConnect}]),onClick:s[4]||(s[4]=(0,i.iM)(((...e)=>o.closeModalConnectUser&&o.closeModalConnectUser(...e)),["stop"]))},[(0,r._)("div",{onClick:s[3]||(s[3]=(0,i.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,r._)("div",d,[c,(0,r._)("button",{onClick:s[2]||(s[2]=(...e)=>o.closeModalConnectUser&&o.closeModalConnectUser(...e)),class:"btn-close"})]),(0,r._)("div",m,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.users,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"connect-userList__user"},[(0,r.Wm)(g,{user:e},null,8,["user"])])))),128))])])],2),(0,r._)("div",{class:(0,l.C_)(["dialog",{"dialog-active":a.visibleModal}]),onClick:s[13]||(s[13]=(0,i.iM)(((...e)=>o.modalClose&&o.modalClose(...e)),["stop"]))},[(0,r._)("div",{onClick:s[12]||(s[12]=(0,i.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,r._)("div",p,[v,(0,r._)("button",{onClick:s[5]||(s[5]=(...e)=>o.modalClose&&o.modalClose(...e)),class:"btn-close"})]),(0,r._)("form",{onSubmit:s[11]||(s[11]=(0,i.iM)((()=>{}),["prevent"])),class:"form-user"},[(0,r.wy)((0,r._)("input",{class:"input","onUpdate:modelValue":s[6]||(s[6]=e=>a.firstName=e),placeholder:"Имя"},null,512),[[i.nr,a.firstName]]),(0,r.wy)((0,r._)("input",{class:"input","onUpdate:modelValue":s[7]||(s[7]=e=>a.lastName=e),placeholder:"Фамилия"},null,512),[[i.nr,a.lastName]]),(0,r.wy)((0,r._)("input",{class:"input","onUpdate:modelValue":s[8]||(s[8]=e=>a.patronymic=e),placeholder:"Отчество"},null,512),[[i.nr,a.patronymic]]),(0,r.wy)((0,r._)("input",{class:"input","onUpdate:modelValue":s[9]||(s[9]=e=>a.email=e),placeholder:"Почта"},null,512),[[i.nr,a.email]]),(0,r._)("div",h,[(0,r._)("button",{class:"btn",onClick:s[10]||(s[10]=(...e)=>o.addNewUser&&o.addNewUser(...e))}," Создать пользователя ")])],32)])],2),(0,r.Wm)(_,{users:a.users,onDeleteUser:o.deleteUser,onChangeUser:o.userFieldChanges,onModalOpen:o.openModalUser,"first-name":a.firstName,"onUpdate:first-name":s[14]||(s[14]=e=>a.firstName=e),"last-name":a.lastName,"onUpdate:last-name":s[15]||(s[15]=e=>a.lastName=e),patronymic:a.patronymic,"onUpdate:patronymic":s[16]||(s[16]=e=>a.patronymic=e),email:a.email,"onUpdate:email":s[17]||(s[17]=e=>a.email=e)},null,8,["users","onDeleteUser","onChangeUser","onModalOpen","first-name","last-name","patronymic","email"]),(0,r._)("div",{class:(0,l.C_)(["dialog",{"dialog-active":a.visibleModalUser}]),onClick:s[20]||(s[20]=(0,i.iM)(((...e)=>o.closeModalUser&&o.closeModalUser(...e)),["stop"]))},[(0,r._)("div",{onClick:s[19]||(s[19]=(0,i.iM)((()=>{}),["stop"])),class:"dialog-user"},[(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"text",placeholder:"Поиск новых друзей",class:"input","onUpdate:modelValue":s[18]||(s[18]=e=>a.searchUser=e)},null,512),[[i.nr,a.searchUser]])]),(0,r._)("div",f,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.filterSearch,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r.Wm)(U,{user:e,currentUser:a.currentUser,class:"user-list",onAddFriend:s=>o.addFriend(e),onDeleteFriend:s=>o.deleteFriend(e)},null,8,["user","currentUser","onAddFriend","onDeleteFriend"])])))),128))])])],2)])}t(7658);var _=t(5934);const U=e=>((0,r.dD)("data-v-78161042"),e=e(),(0,r.Cn)(),e),y={key:0},b=U((()=>(0,r._)("h2",{class:"list-active"},"Список пользователей",-1))),w={key:1},C=U((()=>(0,r._)("h2",{class:"list-empty"},"Список пользователей пуст!",-1))),k=[C];function N(e,s,t,i,n,a){const l=(0,r.up)("user-item");return(0,r.wg)(),(0,r.iD)("div",null,[t.users.length>0?((0,r.wg)(),(0,r.iD)("div",y,[b,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.users,(s=>((0,r.wg)(),(0,r.iD)("div",{key:s.id},[(0,r.Wm)(l,{class:"users",user:s,users:"users","first-name":s.firstName,"onUpdate:first-name":e=>s.firstName=e,"last-name":s.lastName,"onUpdate:last-name":e=>s.lastName=e,patronymic:s.patronymic,"onUpdate:patronymic":e=>s.patronymic=e,email:s.email,"onUpdate:email":e=>s.email=e,onDeleteUser:t=>e.$emit("delete-user",s),onChangeUser:a.changeUser,onModalOpen:t=>e.$emit("modal-open",!0,s)},null,8,["user","first-name","onUpdate:first-name","last-name","onUpdate:last-name","patronymic","onUpdate:patronymic","email","onUpdate:email","onDeleteUser","onChangeUser","onModalOpen"])])))),128))])):((0,r.wg)(),(0,r.iD)("div",w,k))])}var M=t.p+"img/user.cbca9922.svg";const D=e=>((0,r.dD)("data-v-5f4aac22"),e=e(),(0,r.Cn)(),e),S=D((()=>(0,r._)("img",{src:M,alt:"icon-user",width:"30",height:"30"},null,-1))),I={class:"user-item__inside"},O=D((()=>(0,r._)("strong",null,"Пользователь: ",-1))),F={class:"user"},A={class:"edit"},$=D((()=>(0,r._)("strong",null,"Имя:",-1))),J={key:0},j=["value"],x={class:"edit"},z=D((()=>(0,r._)("strong",null,"Фамилия:",-1))),V={key:0},Z=["value"],L={class:"edit"},q=D((()=>(0,r._)("strong",null,"Отчество:",-1))),P={key:0},W=["value"],H={class:"edit"},K=D((()=>(0,r._)("strong",null,"Почта:",-1))),Y={key:0},E=["value"],T={class:"btns"},B=D((()=>(0,r._)("span",null,"Изменить пользователя",-1))),G=[B],Q=D((()=>(0,r._)("span",null,"Применить изменения",-1))),R=[Q];function X(e,s,t,n,a,o){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",{class:"user-item",onClick:s[0]||(s[0]=(...e)=>o.openCardUser&&o.openCardUser(...e))},[S,(0,r._)("div",I,[(0,r._)("div",null,[O,(0,r.Uk)((0,l.zw)(t.user.firstName),1)])])]),(0,r._)("div",{class:(0,l.C_)(["not-active",{"active-user":a.isActive}])},[(0,r._)("div",F,[(0,r._)("div",null,[(0,r._)("div",A,[$,a.inputActive?((0,r.wg)(),(0,r.iD)("form",{key:1,onSubmit:s[2]||(s[2]=(0,i.iM)((()=>{}),["prevent"]))},[(0,r._)("input",{class:"user-data",type:"text",onInput:s[1]||(s[1]=s=>e.$emit("update:firstName",s.target.value)),value:t.user.firstName},null,40,j)],32)):((0,r.wg)(),(0,r.iD)("span",J,(0,l.zw)(t.user.firstName),1))]),(0,r._)("div",x,[z,a.inputActive?((0,r.wg)(),(0,r.iD)("form",{key:1,onSubmit:s[4]||(s[4]=(0,i.iM)((()=>{}),["prevent"]))},[(0,r._)("input",{class:"user-data",type:"text",onInput:s[3]||(s[3]=s=>e.$emit("update:lastName",s.target.value)),value:t.user.lastName},null,40,Z)],32)):((0,r.wg)(),(0,r.iD)("span",V,(0,l.zw)(t.user.lastName),1))]),(0,r._)("div",L,[q,a.inputActive?((0,r.wg)(),(0,r.iD)("form",{key:1,onSubmit:s[6]||(s[6]=(0,i.iM)((()=>{}),["prevent"]))},[(0,r._)("input",{class:"user-data",type:"text",onInput:s[5]||(s[5]=s=>e.$emit("update:patronymic",s.target.value)),value:t.user.patronymic},null,40,W)],32)):((0,r.wg)(),(0,r.iD)("span",P,(0,l.zw)(t.user.patronymic),1))]),(0,r._)("div",H,[K,a.inputActive?((0,r.wg)(),(0,r.iD)("form",{key:1,onSubmit:s[8]||(s[8]=(0,i.iM)((()=>{}),["prevent"]))},[(0,r._)("input",{class:"user-data",type:"text",onInput:s[7]||(s[7]=s=>e.$emit("update:email",s.target.value)),value:t.user.email},null,40,E)],32)):((0,r.wg)(),(0,r.iD)("span",Y,(0,l.zw)(t.user.email),1))])]),(0,r._)("div",T,[a.inputActive?((0,r.wg)(),(0,r.iD)("button",{key:1,class:"btn",onClick:s[10]||(s[10]=(...e)=>o.changeUser&&o.changeUser(...e))},R)):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn",onClick:s[9]||(s[9]=(...e)=>o.checkActive&&o.checkActive(...e))},G)),(0,r._)("button",{class:"btn",onClick:s[11]||(s[11]=s=>e.$emit("modal-open",!0,t.user))}," Поиск новых пользователей "),(0,r._)("button",{class:"btn",onClick:s[12]||(s[12]=s=>e.$emit("delete-user",t.user))}," Удалить пользователя ")])])],2)])}var ee={name:"user-item",data(){return{firstName:this.user.firstName,patronymic:this.user.patronymic,email:this.user.email,visibleModal:!1,isActive:!1,inputActive:!1}},props:{modelValue:[String,Number],user:{type:Object,required:!0}},methods:{checkActive(){this.inputActive=!0},changeUser(){this.inputActive=!1,this.$emit("change-user",this.user)},modalOpen(){this.visibleModal=!0},modalClose(){this.visibleModal=!1},openCardUser(){!0===this.isActive?this.isActive=!1:this.isActive=!0}}},se=t(3744);const te=(0,se.Z)(ee,[["render",X],["__scopeId","data-v-5f4aac22"]]);var ie=te,re={components:{UserItem:ie},name:"users-item",props:{users:{type:Array,required:!0}},methods:{changeUser(){this.$emit("change-user",this.users)},openCardUser(e){const s=e.id;this.$emit("user-id",s)}}};const ne=(0,se.Z)(re,[["render",N],["__scopeId","data-v-78161042"]]);var ae=ne;const le=e=>((0,r.dD)("data-v-248d17a6"),e=e(),(0,r.Cn)(),e),oe={class:"user-name"},ue=le((()=>(0,r._)("img",{src:M,alt:"icon-user",width:"30",height:"30"},null,-1))),de=le((()=>(0,r._)("strong",null,"Пользователь: ",-1)));function ce(e,s,t,i,n,a){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",oe,[ue,de,(0,r.Uk)((0,l.zw)(t.user.firstName),1)]),(0,r._)("div",null,[a.validFriend(t.user)?((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn-add-friend",onClick:s[0]||(s[0]=e=>a.addFriend(t.user))}," Добавить в друзья ")):((0,r.wg)(),(0,r.iD)("button",{key:1,class:"btn-add-friend",onClick:s[1]||(s[1]=e=>a.deleteFriend(t.user))}," Удалить из друзей "))])])}var me={name:"users-list",props:{user:{type:Object,required:!0},currentUser:{type:Object,required:!0}},methods:{addFriend(e){const s=[];s.push(e.id),this.$emit("add-friend",s)},deleteFriend(e){this.$emit("delete-friend",e)},validFriend(e){return void 0===this.currentUser.friends.find((s=>s.id===e.id))}}};const pe=(0,se.Z)(me,[["render",ce],["__scopeId","data-v-248d17a6"]]);var ve=pe;const he=(0,r._)("strong",null,"Пользователь: ",-1),fe={key:0},ge={key:1};function _e(e,s,t,i,n,a){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",null,[he,(0,r.Uk)(" "+(0,l.zw)(t.user.firstName),1)]),a.checkValidFrinds(t.user)?((0,r.wg)(),(0,r.iD)("div",fe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.user.friends,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},(0,l.zw)(t.user.firstName)+" добавил пользователя ("+(0,l.zw)(e.userName)+") ",1)))),128))])):((0,r.wg)(),(0,r.iD)("div",ge,"Список друзей пуст!"))])}var Ue={name:"user-connections",props:{user:{type:Object,required:!0}},data(){return{friendsList:"",checkingFriends:!1}},methods:{checkValidFrinds(e){return void 0!==e.friends.find((e=>e))}}};const ye=(0,se.Z)(Ue,[["render",_e]]);var be=ye,we={components:{UsersItem:ae,UsersList:ve,UserConnections:be},name:"user-form",data(){return{users:[{id:(0,_.Z)(),firstName:"John",lastName:"Smith",patronymic:"Vlahovic",email:"vsehorosho@mail.ru",friends:[]},{id:(0,_.Z)(),firstName:"Severus",lastName:"Snape",patronymic:"Snapepovich",email:"avadakidabra@mail.ru",friends:[]}],connectUserModal:!1,userId:[],userPackage:[],searchUser:"",firstName:"",lastName:"",patronymic:"",email:"",countFrient:"",visibleModal:!1,visibleModalUser:!1,visibleModalConnect:!1,currentUser:{}}},methods:{addNewUser(){if(""!==this.firstName&&""!==this.lastName&&""!==this.patronymic&&""!==this.email){this.users.push({id:(0,_.Z)(),firstName:this.firstName,lastName:this.lastName,patronymic:this.patronymic,email:this.email,friends:[]}),this.firstName="",this.lastName="",this.patronymic="",this.email="",this.modalClose();const e=[];this.users.forEach((s=>{e.push(s.id)})),this.userId=[...new Set(e)],localStorage.setItem("users",JSON.stringify(this.users)),localStorage.setItem("userId",JSON.stringify(this.userId))}},userFieldChanges(e){localStorage.setItem("users",JSON.stringify(e))},updateModal(){this.visibleModal=!0},modalClose(){this.visibleModal=!1},modalConnectUser(){this.visibleModalConnect=!0},closeModalConnectUser(){this.visibleModalConnect=!1},deleteUser(e){this.users=this.users.filter((s=>s.id!==e.id)),this.users=this.users.filter((s=>s.friends=s.friends.filter((s=>s.id!==e.id)))),this.userId=this.userId.filter((s=>s!==e.id)),localStorage.setItem("users",JSON.stringify(this.users)),localStorage.setItem("userId",JSON.stringify(this.userId))},openModalUser(e,s){this.currentUser=s,this.userPackage=this.users.filter((e=>e.id!==s.id)),this.visibleModalUser=e},closeModalUser(){this.visibleModalUser=!1},addFriend(e){console.log(e.id);const s={id:e.id,userName:e.firstName};this.currentUser.friends.push(s),localStorage.setItem("users",JSON.stringify(this.users))},deleteFriend(e){this.currentUser.friends=this.currentUser.friends.filter((s=>s.id!==e.id)),localStorage.setItem("users",JSON.stringify(this.users))}},computed:{filterSearch(){return this.userPackage.filter((e=>e.firstName.toLowerCase().includes(this.searchUser.toLowerCase())))}},mounted(){const e=localStorage.getItem("userId",this.userId),s=localStorage.getItem("users",this.users);s?(this.userId=JSON.parse(e),this.users=JSON.parse(s)):localStorage.setItem("users",JSON.stringify(this.users))}};const Ce=(0,se.Z)(we,[["render",g],["__scopeId","data-v-757e4646"]]);var ke=Ce,Ne={components:{UserForm:ke}};const Me=(0,se.Z)(Ne,[["render",a]]);var De=Me;(0,i.ri)(De).mount("#app")}},s={};function t(i){var r=s[i];if(void 0!==r)return r.exports;var n=s[i]={exports:{}};return e[i](n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(s,i,r,n){if(!i){var a=1/0;for(d=0;d<e.length;d++){i=e[d][0],r=e[d][1],n=e[d][2];for(var l=!0,o=0;o<i.length;o++)(!1&n||a>=n)&&Object.keys(t.O).every((function(e){return t.O[e](i[o])}))?i.splice(o--,1):(l=!1,n<a&&(a=n));if(l){e.splice(d--,1);var u=r();void 0!==u&&(s=u)}}return s}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,r,n]}}(),function(){t.d=function(e,s){for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.p="/custom-app/"}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,i){var r,n,a=i[0],l=i[1],o=i[2],u=0;if(a.some((function(s){return 0!==e[s]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(o)var d=o(t)}for(s&&s(i);u<a.length;u++)n=a[u],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},i=self["webpackChunkcustom_app"]=self["webpackChunkcustom_app"]||[];i.forEach(s.bind(null,0)),i.push=s.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(2510)}));i=t.O(i)})();
//# sourceMappingURL=app.489acf12.js.map